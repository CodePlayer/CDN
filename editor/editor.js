(function(t){function e(e){for(var r,o,c=e[0],s=e[1],l=e[2],f=0,d=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1025:function(t,e,n){},"50c6":function(t,e,n){"use strict";var r=n("1025"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);var r=n("53ca"),a=(n("cadf"),n("551c"),n("f751"),n("097d"),n("d4ec")),i=(n("7f7f"),n("8bbf")),o=n.n(i),c=n("cd42"),s=n("f0aa"),l=n.n(s),u=n("f0f8"),f=n.n(u),d=n("0209"),p=n.n(d),v=n("98af"),h=n.n(v),m=n("ee8c"),g=n.n(m),b=n("48b8"),y=n.n(b),O=n("0b22"),k=n.n(O),w=n("1f64"),j=n.n(w),x=n("8dcb"),_=n.n(x),C=n("2a93"),D=n.n(C),R=n("332f"),S=n.n(R),M=n("4dd1"),P=n.n(M),A=n("5ad2"),T=n.n(A),E=n("a941"),N=n.n(E),L=n("04b0"),H=n.n(L),I=n("f54f"),z=n.n(I),W=n("9bf2"),B=n.n(W),U=n("6a51"),q=n.n(U),F=n("2907"),V=n.n(F),G=n("56b2"),J=n.n(G),K=n("9510"),X=n.n(K),Z=n("82cb"),Q=n.n(Z),Y=n("9f7f"),tt=n.n(Y),et=n("de09"),nt=n.n(et),rt=n("2a39"),at=n.n(rt),it=n("5a3e"),ot=n.n(it),ct=n("3c69"),st=n.n(ct),lt=(n("b54a"),"拖拽（推荐）或粘贴图片到编辑器可直接上传");function ut(){return{focus:{target:null},setFocus:function(t){this.focus.target=t},statusbar:{elementPath:null,uploadTip:{className:null,msg:lt,delay:null},counter:0},setUploadTips:function(t,e,n){var r=this.statusbar;r.uploadTip={className:t,msg:e||lt},n>0&&setTimeout((function(){r.uploadTip={className:null,msg:lt}}),n)},setCounter:function(t){this.statusbar.counter=t},setPath:function(t){this.statusbar.elementPath=t},contextmenu:{enabled:!1,addParagraph:!1,toggleHeaderRow:!1,addRowUp:!1,addRowDown:!1,addColLeft:!1,addColRight:!1,mergeCells:!1,splitCell:!1,deletaTable:!1,deleteRow:!1,deleteCol:!1,styles:{left:0,top:0}},setContextMenu:function(t,e,n){var r=this.contextmenu,a=!1;if(t)for(var i in r)"enabled"!==i&&"styles"!==i&&(r[i]=Boolean(t[i]))&&!a&&(a=!0);r.enabled=a,r.styles={left:(e||0)+"px",top:(n||0)+"px"}},link:{enabled:!1,disableEditText:!1,href:null,text:null,target:null,title:null},setLink:function(t,e,n){var r=this.link;r.enabled=t,e&&(r.class=e.class,r.href=e.href,r.disableEditText=null==n||!!n,r.text=null==n?"引用选中内容":n,r.title=e.title,r.target=e.target)},image:{enabled:!1,dropdown:!1,locked:null,src:null,srcInput:null,alt:null,width:null,height:null,file:null,type:null},setImage:function(t,e){var n=this.image;n.enabled=t,e&&(n.class=e.class,n.src=n.srcInput=e.src,n.alt=e.alt,n.width=e.width,n.height=e.height,n.file=null,n.type=e.type)},help:{show:!1},showHelp:function(t){this.help.show=!1!==t}}}var ft=ut,dt=(n("6b54"),n("2397"),n("bee2")),pt=n("262e"),vt=n("99de"),ht=n("7e84"),mt=n("5313"),gt=n("a9de"),bt=(n("28a5"),n("a481"),n("aef6"),n("f559"),n("3b2b"),n("0ac0")),yt=n("304a"),Ot={default:null};function kt(t,e){for(var n={},r=e?null:function(e){for(var n={},r=0;r<t.length;r++){var a=t[r],i=void 0,o=void 0;o="string"===typeof a?e.getAttribute(i=a):a.prop?"function"==typeof a.prop?a.prop(e,n):e[a.prop]:e.getAttribute(a.name),""===o&&(o=null),null==o&&void 0!==a.def&&(o=a.def),n[i||a.name]=o}return n},a=0;a<t.length;a++){var i=t[a];"string"===typeof i?n[i]=Ot:n[i.name]=null==i.def?Ot:i.def}return{attrs:n,getAttrs:r}}var wt;function jt(t){var e=wt||(wt=/^(([a-z0-9-]+\.)*[a-z0-9-]+\.[a-z]{2,}(:\d{1,5})?)(\/|\b)/);return!!e.test(t)&&RegExp.$1}function xt(t){if(!t)return null;if(t.startsWith("/"))return"";var e=t.indexOf("//");if(-1!==e){var n=t.indexOf("/",e+2);return t.substring(e+2,-1===n?t.length:n)}var r=jt(t);return r||""}function _t(t,e){var n=t.options.context.cfg,r=n&&n.safeDomains;if(!r)return!1;for(var a=0;a<r.length;a++){var i=r[a];if(e.endsWith(i)&&(i.length===e.length||"."===e.charAt(e.length-i.length-1)))return!1}return!0}function Ct(t,e){if("undefined"!==typeof URL&&URL.createObjectURL){var n=URL.createObjectURL(t);e&&e(n,t)}else{var r=new FileReader;e&&(r.onload=function(n){return e(n.target.result,t)}),r.readAsDataURL(t)}}function Dt(t,e,n){var r={type:"POST",url:t,dataType:"json",data:e,xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&n&&n.progress&&t.upload.addEventListener("progress",n.progress),t},processData:!1,contentType:!1,success:n&&n.success,error:n&&n.error};$.ajax(r)}function Rt(t){return t.doc.nodeAt(t.pos)}function St(t){var e,n,r,a,i=t.selection,o=i.$from,c=i.$to;o.depth<=c.depth?(e=o,n=c):(e=c,n=o);for(var s=e.depth+1;s>0;s--){var l=e.before(s),u=n.before(s);if(l==u){if(r){var f=e.node(s);if(f){var d=t.doc.resolve(r),p=t.doc.resolve(a),v=f.nodeAt(d.parentOffset),h=f.nodeAt(p.parentOffset);if(v==h||v&&null==h)return d}}return t.doc.resolve(l)}r=l,a=u}return null}function Mt(t,e){var n=Rt(t);if(n&&e(n))return t;var r=t.depth,a=t.node(0);while(r>0){var i=t.before(r),o=a.resolve(i),c=Rt(o);if(e(c))return o;r--}return null}function Pt(t,e){if(e)for(var n in e)if(e[n]!=t[n])return!1;return!0}function At(t,e,n){if(t&&t.length)for(var r=0;r<t.length;r++){var a=t[r];if(a.type.name==e&&Pt(a.attrs,n))return a}return null}function Tt(t,e,n,r){var a,i=t.selection,o=i.from,c=i.to,s=i.$cursor;if(s)return!!(a=At(t.storedMarks||s.marks(),e,r))&&(n&&n(Rt(s),a,o),!0);var l=0;return t.doc.nodesBetween(o,c,(function(t,i){if(t.type.isInline){if(!(l>=0&&(a=At(t.marks,e,r))))return l=-1,!1;l=1,n&&n(t,a,i)}})),1==l}function Et(t,e){var n=St(t);return n&&Mt(n,"string"==typeof e?function(t){return t.type.name==e}:e)}function $t(t){return"image"==t.type.name||"figure"==t.type.name}function Nt(t,e){var n=document.createElement("div");return e?(n.innerHTML=t,n.textContent):(n.textContent=t,n.innerHTML)}var Lt=window.Editor,Ht=Lt&&Lt.debug||"#debug"===window.location.hash,It=Ht?console.log:function(){Lt&&Lt.debug&&console.log.apply(this,arguments)},zt=/<\/(em|strong|del|u|code|kbd|sup|sub)>((<\/?(em|strong|del|u|code|kbd|sup|sub)>)*?)<\1>/g;function Wt(t){var e=document.createElement("div");e.innerHTML=t;for(var n=e.querySelectorAll("* p"),r=0;r<n.length;r++){var a=n[r],i=a.parentElement;if(1==i.childElementCount){while(a.firstChild)i.insertBefore(a.firstChild,a);i.removeChild(a)}}n=e.querySelectorAll("[contenteditable]");for(var o=0;o<n.length;o++){var c=n[o];c.removeAttribute("contenteditable")}n=e.querySelectorAll("[style]");for(var s=0;s<n.length;s++){var l=n[s];l.removeAttribute("style")}var u,f=e.innerHTML;do{u=!1,f=f.replace(zt,(function(t,e,n){return u=!0,n}))}while(u);return f}function Bt(t,e){return e=e||t,function(e,n){var r=e.selection,a=r.$from,i=r.$to,o=r.node;if(o&&o.isBlock||a.depth<2||!a.sameParent(i))return!1;var c=a.node();if(c.type!=t)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=t||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var s=yt["Fragment"].empty,l=a.index(-1)>0,u=a.depth-(l?1:2);u>=a.depth-3;u--)s=yt["Fragment"].from(a.node(u).copy(s));s=s.append(yt["Fragment"].from(t.createAndFill()));var f=e.tr.replace(a.before(l?null:-1),a.after(-3),new yt["Slice"](s,l?3:2,2));f.setSelection(e.selection.constructor.near(f.doc.resolve(a.pos+(l?3:2)))),n(f.scrollIntoView())}return!0}var d=null,p=e.tr.delete(a.pos,i.pos),v=d&&[{type:d}];return!!Object(bt["f"])(p.doc,a.pos,2,v)&&(n&&n(p.split(a.pos,2,v).scrollIntoView()),!0)}}function Ut(t,e,n){var r=e(n||t);return function(e,n){if(Et(e,(function(e){return e.type==t})))return r(e,n)}}function qt(t){var e=Ft();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function Ft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Vt=function(t){Object(pt["a"])(n,t);var e=qt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block+"}}}]),n}(c["f"]),Gt=function(t){Object(pt["a"])(n,t);var e=qt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"name",get:function(){return"text"}},{key:"schema",get:function(){return{group:"inline"}}}]),n}(c["f"]),Jt=function(t){Object(pt["a"])(n,t);var e=qt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"name",get:function(){return"span"}},{key:"schema",get:function(){var t=kt(["class"]);return{inline:!0,group:"inline",content:"text*",attrs:t.attrs,parseDOM:[{tag:"span[class]",getAttrs:t.getAttrs}],toDOM:function(t){return["span",t.attrs,0]}}}}]),n}(c["f"]),Kt=function(t){Object(pt["a"])(n,t);var e=qt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return{paragraph:function(){return Object(gt["i"])(e)},addParagraph:function(t){return function(e,r){var a=e.selection.$from,i=!1===t?a.after(1):a.before(1);return r(e.tr.insert(i,n.node("paragraph"))),!0}}}}},{key:"name",get:function(){return"paragraph"}},{key:"schema",get:function(){var t=kt(["class"]);return{attrs:t.attrs,content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p",getAttrs:t.getAttrs}],toDOM:function(t){return["p",t.attrs,0]}}}},{key:"plugins",get:function(){var t={count:0,time:0};return[new c["g"]({props:{handleKeyDown:function(e,n){if(13==n.keyCode){var r=n.timeStamp;if(1!=t.count++||r-t.time>300)return t.count=1,void(t.time=r);if(2==t.count){var a=e.state;if(a.selection.empty){var i=a.selection.$from;if(i.parent.type.spec.code&&i.pos==i.end()){t.count=0;var o=i.pos;return e.dispatch(a.tr.delete(o-1,o).insert(o,a.schema.node("paragraph")).setSelection(mt["Selection"].near(i)).scrollIntoView()),!0}}}}t.count=0}}})]}}]),n}(c["f"]),Xt=n("a15f");function Zt(t){var e=Qt();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function Qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Yt=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{"Mod-b":Object(gt["p"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(gt["p"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["d"])(/(?:\*\*)([^*]+)(?:\*\*)$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(gt["e"])(/(?:\*\*)([^*]+)(?:\*\*)/g,e)]}},{key:"name",get:function(){return"bold"}},{key:"schema",get:function(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}}}}]),n}(c["e"]),te=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{"Mod-i":Object(gt["p"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(gt["p"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["d"])(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(gt["e"])(/\*([^*]+)\*/g,e)]}},{key:"name",get:function(){return"italic"}},{key:"schema",get:function(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}}}]),n}(c["e"]),ee=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{"Mod-u":Object(gt["p"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(gt["p"])(e)}}},{key:"name",get:function(){return"underline"}},{key:"schema",get:function(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(t){return"underline"===t}}],toDOM:function(){return["u",0]}}}}]),n}(c["e"]),ne=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{"Mod-d":Object(gt["p"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(gt["p"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["d"])(/~([^~]+)~$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(gt["e"])(/~([^~]+)~/g,e)]}},{key:"name",get:function(){return"strike"}},{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(t){return"line-through"===t}}],toDOM:function(){return["del",0]}}}}]),n}(c["e"]);function re(t,e,n){return e&&_t(t,e)&&(n.rel="nofollow",n.target="_blank"),n}var ae=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var a,i=n.selection,o=i.from,c=i.to,s=Tt(n,e.name,(function(t,e,n){a=n}));if(s){var l=mt["NodeSelection"].create(n.doc,a);o=l.from,c=l.to}if(t){var u=n.tr,f=t.text;f&&(u=u.insertText(f,o,c),c=o+f.length),r(u.addMark(o,c,e.create(t)))}else r(n.tr.removeMark(o,c,e))}}}},{key:"pasteRules",value:function(t){var e=t.type,n=this.editor;return[Object(gt["g"])(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,e,(function(t){return re(n,xt(t),{href:t})}))]}},{key:"name",get:function(){return"link"}},{key:"schema",get:function(){var t=kt(["href","class","target","rel","name","title"]),e=this.editor;return{attrs:t.attrs,inclusive:!1,parseDOM:[{tag:"a",getAttrs:function(n){return re(e,xt(n.href),t.getAttrs(n))}}],toDOM:function(t){var e=t.attrs;return e.target=e.target?"_blank":null,["a",e,0]}}}},{key:"plugins",get:function(){return[new c["g"]({props:{handleClick:function(t,e,n){if(n.ctrlKey&&"A"===n.target.tagName){var r=t.state,a=Object(Xt["a"])(r,r.schema.marks.link);a.href&&window.open(a.href)}}}})]}}]),n}(c["e"]),ie=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{"Mod-k":Object(gt["p"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(gt["p"])(e)}}},{key:"name",get:function(){return"kbd"}},{key:"schema",get:function(){return{inclusive:!1,parseDOM:[{tag:"kbd"}],toDOM:function(){return["kbd",0]}}}}]),n}(c["e"]),oe=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var a,i=Tt(n,e.name,(function(t,e){a=e}));i&&a.attrs.dir==t.dir?Object(gt["h"])(e)(n,r):Object(gt["r"])(e,t)(n,r)}}}},{key:"name",get:function(){return"script"}},{key:"schema",get:function(){return{attrs:{dir:{default:"p"}},parseDOM:[{tag:"sup",attrs:{dir:"p"}},{tag:"sub",attrs:{dir:"b"}}],toDOM:function(t){return["su"+t.attrs.dir,0]}}}}]),n}(c["e"]),ce=function(t){Object(pt["a"])(n,t);var e=Zt(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{"Mod-`":Object(gt["p"])(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(gt["p"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["d"])(/(?:`)([^`]+)(?:`)$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(gt["e"])(/(?:`)([^`]+)(?:`)/g,e)]}},{key:"name",get:function(){return"code"}},{key:"schema",get:function(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}}}]),n}(c["e"]);function se(t){var e=le();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ue=function(t){Object(pt["a"])(n,t);var e=se(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type,n=Object(gt["a"])(gt["b"],(function(t,n){return n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0}));return{"Shift-Enter":n}}},{key:"name",get:function(){return"br"}},{key:"schema",get:function(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}}}]),n}(c["f"]),fe=function(t){Object(pt["a"])(n,t);var e=se(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type;return function(){return function(t,n){return n(t.tr.replaceSelectionWith(e.create()))}}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["f"])(/^(?:---|___\s|\*\*\*\s)$/,e)]}},{key:"name",get:function(){return"hr"}},{key:"schema",get:function(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}}}}]),n}(c["f"]),de=n("8726");function pe(t){var e=ve();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var he=function(t){Object(pt["a"])(n,t);var e=pe(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(){var t="undefined"!==typeof navigator&&/Mac/.test(navigator.platform),e={"Mod-z":de["c"],"Shift-Mod-z":de["b"]};return t||(e["Mod-y"]=de["b"]),e}},{key:"commands",value:function(){return{undo:function(){return de["c"]},redo:function(){return de["b"]}}}},{key:"name",get:function(){return"history"}},{key:"defaultOptions",get:function(){return{depth:"",newGroupDelay:""}}},{key:"plugins",get:function(){return[Object(de["a"])({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}}]),n}(c["d"]),me=(n("ac6a"),n("7514"),n("576a"));function ge(t){var e=be();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function be(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ye=function(t){Object(pt["a"])(n,t);var e=ge(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,n),t=e.call(this,r),t.results=[],t.searchTerm=null,t._updating=!1,t}return Object(dt["a"])(n,[{key:"commands",value:function(){var t=this;return{find:function(e){return t.find(e)},replace:function(e){return t.replace(e)},replaceAll:function(e){return t.replaceAll(e)},clearSearch:function(){return t.clear()}}}},{key:"_search",value:function(t){var e=this;this.results=[];var n=[],r=0;this.searchTerm&&(t.descendants((function(t,e){t.isText?n[r]?n[r]={text:n[r].text+t.text,pos:n[r].pos}:n[r]={text:t.text,pos:e}:r+=1})),n.forEach((function(t){var n,r=t.text,a=t.pos,i=e.findRegExp;while(n=i.exec(r)){if(""===n[0])break;e.results.push({from:a+n.index,to:a+n.index+n[0].length})}})))}},{key:"replace",value:function(t){var e=this;return function(n,r){var a=e.results[0];if(a){var i=e.results[0],o=i.from,c=i.to;r(n.tr.insertText(t,o,c)),e.editor.commands.find(e.searchTerm)}}}},{key:"rebaseNextResult",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e+1;if(!this.results[r])return null;var a=this.results[e],i=a.from,o=a.to,c=o-i-t.length+n,s=this.results[r],l=s.from,u=s.to;return this.results[r]={to:u-c,from:l-c},c}},{key:"replaceAll",value:function(t){var e=this;return function(n,r){var a,i=n.tr;e.results.length&&(e.results.forEach((function(n,r){var o=n.from,c=n.to;i.insertText(t,o,c),a=e.rebaseNextResult(t,r,a)})),r(i),e.editor.commands.find(e.searchTerm))}}},{key:"find",value:function(t){var e=this;return function(n,r){e.searchTerm=e.options.disableRegex?t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"):t,e.updateView(n,r)}}},{key:"clear",value:function(){var t=this;return function(e,n){t.searchTerm=null,t.updateView(e,n)}}},{key:"updateView",value:function(t,e){var n=t.tr;this._updating=!0,e(n),this._updating=!1}},{key:"createDeco",value:function(t){return this._search(t),this.decorations?me["b"].create(t,this.decorations):[]}},{key:"name",get:function(){return"search"}},{key:"defaultOptions",get:function(){return{autoSelectNext:!0,findClass:"find",searching:!1,caseSensitive:!1,disableRegex:!0,alwaysSearch:!1}}},{key:"findRegExp",get:function(){return RegExp(this.searchTerm,this.options.caseSensitive?"gu":"gui")}},{key:"decorations",get:function(){var t=this;return this.results.map((function(e){return me["a"].inline(e.from,e.to,{class:t.options.findClass})}))}},{key:"plugins",get:function(){var t=this;return[new c["g"]({state:{init:function(){return me["b"].empty},apply:function(e,n){return t._updating||t.options.searching||e.docChanged&&t.options.alwaysSearch?t.createDeco(e.doc):e.docChanged?n.map(e.mapping,e.doc):n}},props:{decorations:function(t){return this.getState(t)}}})]}}]),n}(c["d"]);n("8449");function Oe(t){var e=ke();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function ke(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var we=function(t){Object(pt["a"])(n,t);var e=Oe(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"name",get:function(){return"placeholder"}},{key:"defaultOptions",get:function(){return{emptyNodeClass:"is-empty",emptyNodeText:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}},{key:"update",get:function(){return function(t){t.updateState(t.state)}}},{key:"plugins",get:function(){var t=this;return[new c["g"]({props:{decorations:function(e){var n=e.doc,r=e.plugins,a=e.selection,i=r.find((function(t){return t.key.startsWith("editable$")})),o=i.props.editable(),c=o||!t.options.showOnlyWhenEditable,s=a.anchor,l=[];return!!c&&(n.descendants((function(e,n){var r=s>=n&&s<=n+e.nodeSize,a=0===e.content.size;if((r||!t.options.showOnlyCurrent)&&a){var i=me["a"].node(n,n+e.nodeSize,{class:t.options.emptyNodeClass,"data-empty-text":"function"===typeof t.options.emptyNodeText?t.options.emptyNodeText(e):t.options.emptyNodeText});l.push(i)}return!1})),me["b"].create(n,l))}}})]}}]),n}(c["d"]),je=n("3835");function xe(t){var e=_e();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function _e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ce=function(t){Object(pt["a"])(n,t);var e=xe(n);function n(t,r,i){var o;Object(a["a"])(this,n),o=e.call(this),o.selector=t;var c=t.split("."),s=Object(je["a"])(c,2),l=s[0],u=s[1];return o.tag=l,o.className=u,o.node=u?l+"_"+u.replace(/-/g,"_"):l,o.attrs=r,o.schemaExt=i,o}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.schema,n=t.type;return function(){return Object(gt["n"])(n,e.nodes.paragraph)}}},{key:"name",get:function(){return this.node}},{key:"schema",get:function(){var t,e,n=this.selector,r=this.tag,a=this.className,i=this.attrs,o=this.schemaExt,c={tag:n,priority:50},s={group:"block",content:"inline*",parseDOM:[c]};return i&&(t=kt(i),s.attrs=t.attrs,c.getAttrs=t.getAttrs),e=a?function(){return[r,{class:a},0]}:t?function(t){return[r,t.attrs,0]}:function(){return[r,0]},s.toDOM=e,o?$.extend(s,o):s}}]),n}(c["f"]);function De(t){var e=Re();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function Re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Se=[1,2,3,4,5,6],Me=function(t){Object(pt["a"])(n,t);var e=De(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(t){return Object(gt["n"])(e,n.nodes.paragraph,t)}}},{key:"inputRules",value:function(t){var e=t.type,n=this.options;return[Object(gt["m"])(/^(#{1,6})\s$/,e,(function(t){var e=t[1].length;return{level:~n.levels.indexOf(e)?e:n.default}}))]}},{key:"name",get:function(){return"heading"}},{key:"defaultOptions",get:function(){return{levels:[3,4,5,6],default:3}}},{key:"schema",get:function(){var t=this.options;return{attrs:{level:{default:t.default}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:Se.map((function(e){var n="h"+e;return e=~t.levels.indexOf(e)?e:t.default,{tag:n,attrs:{level:e}}})),toDOM:function(t){return["h"+t.attrs.level,0]}}}}]),n}(c["f"]);function Pe(t){var e=Ae();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function Ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Te=function(t){Object(pt["a"])(n,t);var e=Pe(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(gt["q"])(e,n.nodes.paragraph)}}},{key:"keys",value:function(t){var e=t.type;return{"Ctrl->":Object(gt["q"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["s"])(/^\s*>\s$/,e)]}},{key:"name",get:function(){return"blockquote"}},{key:"schema",get:function(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}}}}]),n}(c["f"]),Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"todo-item",class:{done:t.node.attrs.done}},[n("span",{staticClass:"todo-checkbox",attrs:{contenteditable:"false"},on:{click:t.onChange}}),n("div",{ref:"content",staticClass:"todo-content",attrs:{contenteditable:t.view.editable.toString()}})])},$e=[],Ne={name:"editor-todo-item",props:["node","updateAttrs","view"],methods:{onChange:function(){this.updateAttrs({done:!this.node.attrs.done})}}},Le=Ne,He=n("2877"),Ie=Object(He["a"])(Le,Ee,$e,!1,null,null,null),ze=Ie.exports;function We(t){var e=Be();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function Be(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ue=function(t){Object(pt["a"])(n,t);var e=We(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(gt["o"])(e,n.nodes.todo_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["s"])(/^\s*(\[ \])\s$/,e)]}},{key:"name",get:function(){return"todo_list"}},{key:"schema",get:function(){return{group:"block",content:"todo_item+",parseDOM:[{tag:"[class*=todo-list],[class*=task-list]",priority:51}],toDOM:function(){return["ul",{class:"todo-list"},0]}}}}]),n}(c["f"]),qe=function(t){Object(pt["a"])(n,t);var e=We(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{Enter:Object(gt["l"])(e),Tab:this.options.nested?Object(gt["j"])(e):function(){},"Shift-Tab":Object(gt["c"])(e)}}},{key:"name",get:function(){return"todo_item"}},{key:"defaultOptions",get:function(){return{nested:!1}}},{key:"schema",get:function(){return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",parseDOM:[{priority:51,tag:"[class*=todo-item],[class*=task-list-item]",getAttrs:function(t){var e=t.classList,n=e.contains("done")||e.contains("enabled");return{done:n}}}],toDOM:function(t){var e=t.attrs.done,n=e?"todo-item done":"todo-item";return["li",{class:n},["span",{class:"todo-checkbox"}],["div",{class:"todo-content"},0]]}}}},{key:"view",get:function(){return ze}}]),n}(c["f"]),Fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{ref:"img",class:[t.attrs.class,{"ProseMirror-selectednode":t.selected}],attrs:{src:t.attrs.src,title:t.attrs.title,alt:t.attrs.alt,width:t.attrs.width,height:t.attrs.height},on:{load:t.imageLoaded}})},Ve=[],Ge=(n("8e6e"),n("456d"),n("ade3"));function Je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(n),!0).forEach((function(e){Object(Ge["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Xe={name:"editor-image",props:["editor","node","updateAttrs","selected"],computed:{attrs:{get:function(){return this.node.attrs},set:function(t){this.updateAttrs(t)}}},methods:{imageLoaded:function(){var t,e=this,n=e.node.attrs.file;if(n)t=new FormData,t.append("model",n);else{var r=e.$refs.img.src,a=xt(r);a&&_t(e.editor,a)&&(t=new FormData,t.append("sourceUrl",r))}if(t){var i=e.editor.context,o=i.cfg,c=i.sharedState;o.extraData&&o.extraData(t,i.input),Dt(o.uploadURL,t,{progress:function(t){var e="图片正在上传……";if(t.lengthComputable){var n=Math.round(t.loaded/t.total*100);100===n&&t.loaded!==t.total&&(n=99),e+="<em>"+n+"%</em>"}c.setUploadTips(null,e)},success:function(t){"OK"===t.status?(e.updateAttrs(Ke(Ke({},e.node.attrs),{},{file:null,src:t.content.fileURI})),c.setUploadTips(null,"图片上传成功！",5e3)):(console.error("上传文件失败："+t.message),c.setUploadTips("error","上传失败：错误信息详见控制台输出"))},error:function(t,e,n){console.error(t,e,n),c.setUploadTips("error","文件上传失败，请重试["+t.status+"]！",3e4)}})}}}},Ze=Xe,Qe=Object(He["a"])(Ze,Fe,Ve,!1,null,null,null),Ye=Qe.exports;function tn(t){var e=en();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function en(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var nn=/!\[(.+|:?)\]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/;function rn(t,e){var n="paste"===e?e.clipboardData:e.dataTransfer,a=n&&n.files;if(a&&a.length){var i=function(){for(var n=[],r=0;r<a.length;r++){var i=a[r];i.type.startsWith("image/")&&n.push(i)}if(0===n.length)return{v:void 0};e.preventDefault();for(var o=t.state.schema,c=t.posAtCoords({left:e.clientX,top:e.clientY}),s=0;s<n.length;s++){var l=n[s];Ct(l,(function(e,n){var r=o.nodes.image.create({src:e,file:n,alt:n.name}),a=t.state.tr.insert(c.pos,r);t.dispatch(a)}))}return{v:!0}}();if("object"===Object(r["a"])(i))return i.v}}var an=function(t){Object(pt["a"])(n,t);var e=tn(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(t){return function(r,a){var i=Et(r,$t),o="image",c=r.tr;if(i){var s=Rt(i);if(s.type.name==o)c=c.setNodeMarkup(i.pos,e,t);else{var l=i.pos,u=e.create(t,null,null);c=c.delete(l,l+s.nodeSize).insert(l,u)}}else c=c.replaceWith(r.selection.from,r.selection.to,n.node(o,t));a(c)}}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["f"])(nn,e,(function(t){var e=Object(je["a"])(t,4),n=e[1],r=e[2],a=e[3];return{src:r,alt:n,title:a}}))]}},{key:"name",get:function(){return"image"}},{key:"schema",get:function(){var t=kt(["src","class","alt","width","height","title","file"]);return t.attrs.src={},{inline:!0,attrs:t.attrs,group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:t.getAttrs}],toDOM:function(t){return["img",t.attrs]}}}},{key:"plugins",get:function(){return[new c["g"]({props:{handleDOMEvents:{drop:function(t,e){return rn(t,e)},paste:function(t,e){return rn(t,e)}}}})]}},{key:"view",get:function(){return Ye}}]),n}(c["f"]),on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{ref:"me",class:[t.node.attrs.selfClass,{selected:t.focused}]},[n("editor-image",{attrs:{editor:t.editor,node:t.node,updateAttrs:t.updateAttrs,selected:t.selected}}),n("figcaption",{ref:"content"})],1)},cn=[],sn={name:"editor-figure",props:["editor","node","updateAttrs","selected","view"],components:{"editor-image":Ye},data:function(){return this.editor.context.sharedState.focus},computed:{focused:function(){var t=this.$refs.me,e=this.target;return t&&$.contains(t,e)}}},ln=sn,un=Object(He["a"])(ln,on,cn,!1,null,null,null),dn=un.exports;function pn(t){var e=vn();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var hn="请在此输入图片描述",mn=function(t){Object(pt["a"])(n,t);var e=pn(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.schema;return function(t){return function(n,r){var a=Et(n,$t),i="figure",o=n.tr;if(a){var c=Rt(a);if(c.type.name==i)o=o.setNodeMarkup(a.pos,null,t);else{var s=a.pos;1==a.parent.childCount&&(s=a.before(a.depth),c=a.parent),o=o.replaceWith(s,s+c.nodeSize,e.node(i,t,[e.text(c.textContent||t.alt||hn)]))}}else o=o.replaceWith(n.selection.from,n.selection.to,e.node(i,t,[e.text(t.alt||hn)]));r(o)}}}},{key:"name",get:function(){return"figure"}},{key:"schema",get:function(){var t=kt(["src","selfClass","class","alt","width","height","title","file"]);return t.attrs.src={},{attrs:t.attrs,group:"block",content:"text*",marks:"",draggable:!0,parseDOM:[{tag:"figure",getAttrs:function(e){var n=e.querySelector("img"),r=t.getAttrs(n);return r.selfClass=e.className||null,r},getContent:function(t,e){var n,r=t.querySelector("figcaption");if(r)n="innerText"in r?r.innerText:r.textContent;else{var a=t.querySelector("img");n=a?a.alt:null}return[e.text($.trim(n)||hn)]}}],toDOM:function(t){var e=t.attrs,n=t.textContent||e.alt;return""!=n&&n!=hn||(n=null),["figure",{selfClass:e.selfClass},["img",$.extend({},e,{selfClass:null,alt:n})],["figcaption",0]]}}}},{key:"plugins",get:function(){var t=this;return[new c["g"]({props:{handleDOMEvents:{click:function(e,n){var r=n.target,a=[],i=t.options.sharedState;i.setFocus(r);while(r&&(!~r.className.indexOf("ProseMirror")||~r.className.indexOf("ProseMirror-selectednode")))a.push(r.tagName.toLowerCase()),r=r.parentElement;i.setPath(a.reverse().join(" > "))}}}})]}},{key:"view",get:function(){return dn}}]),n}(c["f"]),gn=n("af9a"),bn=n.n(gn),yn=n("3ce4"),On=n.n(yn),kn=(n("6762"),n("2fdb"),n("2909")),wn=n("986d");function jn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jn(Object(n),!0).forEach((function(e){Object(Ge["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _n(t){var e=t.doc,n=t.name,r=[],a=Object(wn["findBlockNodes"])(e).filter((function(t){return t.node.type.name===n})),i=function t(e){return e.reduce((function(e,n){return e.concat(Array.isArray(n)?t(n):n)}),[])};function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){var n=[].concat(Object(kn["a"])(e),Object(kn["a"])(t.properties?t.properties.className:[]));return t.children?o(t.children,n):{text:t.value,classes:n}}))}return a.forEach((function(t){var e=t.pos+1,n=t.node,a=n.attrs.language,c=n.textContent,s=a?On.a.highlight(a,c):On.a.highlightAuto(c),l=s.value;i(o(l)).map((function(t){var n=e,r=n+t.text.length;return e=r,xn(xn({},t),{},{from:n,to:r})})).forEach((function(t){var e=me["a"].inline(t.from,t.to,{class:t.classes.join(" ")});r.push(e)}))})),me["b"].create(e,r)}function Cn(t){var e=t.name;return new c["g"]({name:new c["h"]("highlight"),state:{init:function(t,n){var r=n.doc;return _n({doc:r,name:e})},apply:function(t,n,r,a){var i=a.selection.$head.parent.type.name,o=r.selection.$head.parent.type.name;return t.docChanged&&[i,o].includes(e)?_n({doc:t.doc,name:e}):n.map(t.mapping,t.doc)}},props:{decorations:function(t){return this.getState(t)}}})}var Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"code-block-wrapper"},[n("div",{staticClass:"code-block-panel",attrs:{contenteditable:"false"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filename,expression:"filename"}],attrs:{type:"text",placeholder:"请输入代码片段名称..."},domProps:{value:t.filename},on:{input:function(e){e.target.composing||(t.filename=e.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.language=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("==选择语言==")]),t._l(t.langs,(function(e){return n("option",{key:e.val,domProps:{value:e.val}},[t._v(t._s(e.name))])}))],2)]),n("pre",{class:t.node.attrs.class,on:{mousedown:t.contextMenu,contextmenu:t.contextMenu}},[n("code",{ref:"content"})])])},Rn=[],Sn=n("55be");function Mn(t){var e,n=t.selection,r=Object(Sn["selectionCell"])(t),a=r.node(-1),i=r.start(-1),o=Sn["TableMap"].get(a);return e=n instanceof Sn["CellSelection"]?o.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):o.findCell(r.pos-i),e.tableStart=i,e.map=o,e.table=a,e}function Pn(t,e){var n=-1,r=-1,a=t.selection;if(a instanceof Sn["CellSelection"]){var i=Mn(t);n=i.top,r=i.bottom-1}else{var o=a.$from,c=a.$to,s=o.node(0),l=Mt(e,(function(t){return"row"==t.type.spec.tableRole})).depth;n=s.resolve(o.before(l)).index(l-1),r=s.resolve(c.before(l)).index(l-1)}return{fromRowIndex:n,toRowIndex:r}}function An(t){return"table"==t.type.spec.tableRole}function Tn(t,e,n,r){if(2===e.button&&!1!==window.contextMenu){if(e.preventDefault(),"contextmenu"==e.type)return!0;var a={addParagraph:!0},i=St(t.state),o=i&&Mt(i,An);if(o){a.addRowDown=a.addColLeft=a.addColRight=a.deletaTable=a.deleteRow=a.deleteCol=!0;var c=Pn(t.state,i),s=c.fromRowIndex,l=c.toRowIndex,u=0===s;a.addRowUp=s>0,a.toggleHeaderRow=u&&s==l,a.mergeCells=(s==l||!u)&&Object(Sn["mergeCells"])(t.state),a.splitCell=Object(Sn["splitCell"])(t.state)}var f=e.target,d=n.$el,p=d.getBoundingClientRect(),v=f.getBoundingClientRect(),h=e.clientX-p.left,m=v.top-p.top;return r.setContextMenu(a,h,m),!0}r.setContextMenu(null)}function En(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(Object(n),!0).forEach((function(e){Object(Ge["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nn(t){return function(){var e=this,n=e.node,r=n.attrs.language;if(t&&(e.__set=!!r),!e.__set||!r){var a=On.a.highlightAuto(n.textContent),i=a&&a.language;t||(e.nextUpdate=Date.now()+1e3),setTimeout((function(){!t&&e.nextUpdate>Date.now()||e.updateAttrs($n($n({},n.attrs),{},{language:i}))}),1e3)}}}var Ln={name:"editor-code-block",props:["editor","node","updateAttrs","view"],computed:{langs:function(){return this.editor.context.languages},language:{get:function(){var t=this.node.attrs,e=t&&t.language;return e&&this.langs[e]?e:""},set:function(t){t&&(this.__set=1);var e=this.node.attrs;this.updateAttrs($n($n({},e),{},{language:t}))}},filename:{get:function(){var t=this.node.attrs;return t&&t.filename||""},set:function(t){var e=this.node.attrs;this.updateAttrs($n($n({},e),{},{filename:t}))}}},created:Nn(!0),updated:Nn(),methods:{contextMenu:function(t){var e=this.editor;Tn(this.view,t,e,e.context.sharedState)}}},Hn=Ln,In=Object(He["a"])(Hn,Dn,Rn,!1,null,null,null),zn=In.exports;function Wn(t){var e=Bn();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function Bn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Un(t){return function(e,n){var r=e.selection,a=r.from,i=r.to,o=e.tr,s=0;return e.doc.nodesBetween(a,i,(function(e,n){if(e.type==t)for(var r=e.textContent.split("\n"),c=n+1,l=0;l<r.length;l++){var u=r[l],f=c,d=f+u.length;c=d+1,f>i||d<a||(o=o.insertText("\t",f+s++))}else"paragraph"==e.type.name&&(o=o.insertText("\t",Math.max(a,n+1)+s++))})),s>0&&n(o.setSelection(c["i"].create(o.doc,a+1,i+s))),s>0}}function qn(t){return"\t"==t.charAt(0)?1:t.startsWith("    ")?4:0}function Fn(t){return function(e,n){var r=e.selection,a=r.from,i=r.to,o=e.tr,c=0;return e.doc.nodesBetween(a,i,(function(e,n){if(e.type==t)for(var r=e.textContent.split("\n"),s=n+1,l=0;l<r.length;l++){var u=r[l],f=s,d=s=f+u.length;if(s=d+1,!(f>i||d<a)){var p=qn(u);if(p){var v=f-c;o=o.delete(v,v+p),c+=p}}}else if(e.isTextblock&&"figure"!==e.type.name&&(0==e.childCount||"text"==e.nodeAt(0).type.name)){var h=qn(e.textContent);if(h){var m=n+1-c;o=o.delete(m,m+h),c+=h}}})),c>0&&n(o),c>0}}var Vn={js:"javascript",xml:"html"};function Gn(t,e){return t&&(e=Vn[t])?e:t}var Jn=function(t){Object(pt["a"])(n,t);var e=Wn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a["a"])(this,n),t=e.call(this,r);var i=t.options.languages;try{for(var o in On.a.registerLanguage("c-like",bn.a),i){var c=i[o];On.a.registerLanguage(c.val,c.fn)}}catch(s){throw new Error("Invalid syntax highlight definitions: define at least one highlight.js language mapping",s)}return t}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(gt["n"])(e,n.nodes.paragraph)}}},{key:"keys",value:function(t){var e=t.type;return{Tab:Un(e),"Shift-Tab":Fn(e),"Shift-Ctrl-\\":Object(gt["i"])(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["m"])(/^```$/,e)]}},{key:"name",get:function(){return"code_block"}},{key:"defaultOptions",get:function(){return{languages:[]}}},{key:"schema",get:function(){var t=kt(["language","filename"]);return{content:"text*",marks:"",group:"block",code:!0,editable:!0,defining:!0,draggable:!1,attrs:t.attrs,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){var n=t.getAttrs(e);return!n.language&&/\blanguage-([a-z]+)\b/.test(e.className)&&(n.language=Gn(RegExp.$1)),n}}],toDOM:function(t){var e=t.attrs||{},n=e.language;return["pre",{class:n?"language-"+n:null,filename:e.filename||null},["code",0]]}}}},{key:"plugins",get:function(){return[Cn({name:this.name})]}},{key:"view",get:function(){return zn}}]),n}(c["f"]);function Kn(t){var e=Xn();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function Xn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Zn=function(t){Object(pt["a"])(n,t);var e=Kn(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type;return{Enter:Object(gt["k"])(e),"Ctrl-Tab":Object(gt["j"])(e),"Ctrl-Shift-Tab":Object(gt["c"])(e)}}},{key:"name",get:function(){return"list_item"}},{key:"schema",get:function(){return{content:"block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}}}]),n}(c["f"]),Qn=function(t){Object(pt["a"])(n,t);var e=Kn(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(gt["o"])(e,n.nodes.list_item)}}},{key:"keys",value:function(t){var e=t.type,n=t.schema;return{"Shift-Ctrl-9":Object(gt["o"])(e,n.nodes.list_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["s"])(/^(\d+)\.\s$/,e,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]}))]}},{key:"name",get:function(){return"ordered_list"}},{key:"schema",get:function(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}}}}]),n}(c["f"]),Yn=function(t){Object(pt["a"])(n,t);var e=Kn(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(gt["o"])(e,n.nodes.list_item)}}},{key:"keys",value:function(t){var e=t.type,n=t.schema;return{"Shift-Ctrl-8":Object(gt["o"])(e,n.nodes.list_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(gt["s"])(/^\s*([-+*])\s$/,e)]}},{key:"name",get:function(){return"bullet_list"}},{key:"schema",get:function(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}}}]),n}(c["f"]);function tr(t){var e=er();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function er(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var nr=function(t){Object(pt["a"])(n,t);var e=tr(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type,n=t.schema;return{Enter:Ut(e,Bt),"Ctrl-Enter":Ut(e,Bt,n.nodes.dt)}}},{key:"name",get:function(){return"dd"}},{key:"schema",get:function(){return{content:"inline*",defining:!0,draggable:!1,parseDOM:[{tag:"dd"}],toDOM:function(){return["dd",0]}}}}]),n}(c["f"]),rr=function(t){Object(pt["a"])(n,t);var e=tr(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"keys",value:function(t){var e=t.type,n=t.schema;return{Enter:Ut(e,Bt,n.nodes.dd),"Ctrl-Enter":Ut(e,Bt)}}},{key:"name",get:function(){return"dt"}},{key:"schema",get:function(){return{content:"inline*",defining:!0,parseDOM:[{tag:"dt"}],toDOM:function(){return["dt",0]}}}}]),n}(c["f"]),ar=function(t){Object(pt["a"])(n,t);var e=tr(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(gt["o"])(e,n.nodes.dt)}}},{key:"name",get:function(){return"dl"}},{key:"schema",get:function(){var t=kt(["class"]);return{attrs:t.attrs,content:"(dt dd*)+",group:"block",parseDOM:[{tag:"dl",getAttrs:t.getAttrs}],toDOM:function(t){return["dl",t.attrs,0]}}}}]),n}(c["f"]);function ir(t){var e=or();return function(){var n,r=Object(ht["a"])(t);if(e){var a=Object(ht["a"])(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(vt["a"])(this,n)}}function or(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var cr=Object(Sn["tableNodes"])({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:function(t){return t.style.backgroundColor||null},setDOMAttr:function(t,e){if(t){var n={style:"".concat(e.style||"","background-color: ").concat(t,";")};Object.assign(e,n)}}}}}),sr=cr.table;delete sr.isolating,sr.attrs={class:{default:null}},sr.parseDOM=[{tag:"table",getAttrs:function(t){return{class:t.className||null}}}],sr.toDOM=function(t){return["table",t.attrs,["tbody",0]]};var lr=function(t){Object(pt["a"])(n,t);var e=ir(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"commands",value:function(t){var e=t.schema;return{createTable:function(t){var n=t.rowsCount,r=t.colsCount,a=t.withHeaderRow;return function(t,i){var o=Object(wn["createTable"])(e,n,r,a),c=t.tr.replaceSelectionWith(o).scrollIntoView();i(c)}},addColumnBefore:function(){return Sn["addColumnBefore"]},addColumnAfter:function(){return Sn["addColumnAfter"]},deleteColumn:function(){return Sn["deleteColumn"]},addRowBefore:function(){return Sn["addRowBefore"]},addRowAfter:function(){return Sn["addRowAfter"]},deleteRow:function(){return Sn["deleteRow"]},deleteTable:function(){return Sn["deleteTable"]},toggleCellMerge:function(){return function(t,e){Object(Sn["mergeCells"])(t,e)||Object(Sn["splitCell"])(t,e)}},mergeCells:function(){return Sn["mergeCells"]},splitCell:function(){return Sn["splitCell"]},toggleHeaderColumn:function(){return Sn["toggleHeaderColumn"]},toggleHeaderRow:function(){return Sn["toggleHeaderRow"]},toggleHeaderCell:function(){return Sn["toggleHeaderCell"]},setCellAttr:function(){return Sn["setCellAttr"]},fixTables:function(){return Sn["fixTables"]}}}},{key:"keys",value:function(){return{Tab:Object(Sn["goToNextCell"])(1),"Shift-Tab":Object(Sn["goToNextCell"])(-1)}}},{key:"name",get:function(){return"table"}},{key:"defaultOptions",get:function(){return{resizable:!1}}},{key:"schema",get:function(){return sr}},{key:"plugins",get:function(){var t=this,e=t.editor,n=t.options.sharedState;return[new c["g"]({props:{handleDOMEvents:{keydown:function(t,e){if(8===e.which){var n=t.state,r=n.selection;if(r instanceof Sn["CellSelection"]){var a=Mn(n),i=a.top,o=a.left,c=a.bottom,s=a.right,l=a.map;if(s-o==l.width&&c-i==l.height)return Object(Sn["deleteTable"])(n,t.dispatch),e.preventDefault(),!0}}},contextmenu:function(t,r){return Tn(t,r,e,n)},mousedown:function(t,r){return Tn(t,r,e,n)}}}})].concat(Object(kn["a"])(t.options.resizable?[Object(Sn["columnResizing"])()]:[]),[Object(Sn["tableEditing"])()])}}]),n}(c["f"]),ur=function(t){Object(pt["a"])(n,t);var e=ir(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"name",get:function(){return"table_header"}},{key:"schema",get:function(){return cr.table_header}}]),n}(c["f"]),fr=function(t){Object(pt["a"])(n,t);var e=ir(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"name",get:function(){return"table_row"}},{key:"schema",get:function(){return cr.table_row}}]),n}(c["f"]),dr=function(t){Object(pt["a"])(n,t);var e=ir(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(dt["a"])(n,[{key:"name",get:function(){return"table_cell"}},{key:"schema",get:function(){return cr.table_cell}}]),n}(c["f"]),pr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cp-editor",class:[t.newClassName,{fullscreen:t.fullscreenMode}],staticStyle:{},attrs:{impl:"vue"}},[n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.commands,a=e.isActive;return[n("div",{staticClass:"menubar"},[n("a",{class:{"is-active":a.paragraph()},attrs:{title:"段落"},on:{click:r.paragraph}},[n("icon",{attrs:{name:"paragraph"}})],1),n("a",{class:{"is-active":a.heading({level:3})},attrs:{title:"标题3"},on:{click:function(t){return r.heading({level:3})}}},[n("span",[t._v("H3")])]),n("a",{class:{"is-active":a.heading({level:4})},attrs:{title:"标题4"},on:{click:function(t){return r.heading({level:4})}}},[n("span",[t._v("H4")])]),n("a",{class:{"is-active":a.heading({level:5})},attrs:{title:"标题5"},on:{click:function(t){return r.heading({level:5})}}},[n("span",[t._v("H5")])]),n("a",{class:{"is-active":a.heading({level:6})},attrs:{title:"标题6"},on:{click:function(t){return r.heading({level:6})}}},[n("span",[t._v("H6")])]),n("a",{class:{"is-active":t.isMarkActive("bold")},attrs:{title:"粗体"},on:{click:r.bold}},[n("icon",{attrs:{name:"bold"}})],1),n("a",{class:{"is-active":t.isMarkActive("italic")},attrs:{title:"斜体"},on:{click:r.italic}},[n("icon",{attrs:{name:"italic"}})],1),n("a",{class:{"is-active":t.isMarkActive("strike")},attrs:{title:"删除线"},on:{click:r.strike}},[n("icon",{attrs:{name:"strikethrough"}})],1),n("a",{class:{"is-active":t.isMarkActive("underline")},attrs:{title:"下划线"},on:{click:r.underline}},[n("icon",{attrs:{name:"underline"}})],1),n("a",{class:{"is-active":t.isMarkActive("script",{dir:"p"})},attrs:{title:"上标"},on:{click:function(t){return r.script({dir:"p"})}}},[n("icon",{attrs:{name:"superscript"}})],1),n("a",{class:{"is-active":t.isMarkActive("script",{dir:"b"})},attrs:{title:"下标"},on:{click:function(t){return r.script({dir:"b"})}}},[n("icon",{attrs:{name:"subscript"}})],1),n("a",{class:{"is-active":t.isMarkActive("kbd")},attrs:{title:"按键"},on:{click:r.kbd}},[n("icon",{attrs:{name:"keyboard-o"}})],1),n("a",{class:{"is-active":t.isMarkActive("code")},attrs:{title:"代码"},on:{click:r.code}},[n("icon",{attrs:{name:"code"}})],1),n("a",{class:{"is-active":a.code_block()},attrs:{title:"代码块"},on:{click:r.code_block}},[n("icon",{attrs:{name:"file-code-o"}})],1),n("a",{class:{"is-active":a.p_tip()},attrs:{title:"警告"},on:{click:r.p_tip}},[n("icon",{attrs:{name:"exclamation-circle"}})],1),n("a",{class:{"is-active":a.bullet_list()},attrs:{title:"无序列表"},on:{click:r.bullet_list}},[n("icon",{attrs:{name:"list-ul"}})],1),n("a",{class:{"is-active":a.ordered_list()},attrs:{title:"有序列表"},on:{click:r.ordered_list}},[n("icon",{attrs:{name:"list-ol"}})],1),n("a",{class:{"is-active":t.isMarkActive("link")},attrs:{title:"链接"},on:{click:function(e){return t.openLinkDialog()}}},[n("icon",{attrs:{name:"link"}})],1),n("a",{class:{"is-disabled":!t.isMarkActive("link")},attrs:{title:"取消链接"},on:{click:function(t){return r.link(null)}}},[n("icon",{attrs:{name:"unlink"}})],1),n("a",{class:{"is-active":a.image()||a.figure()},attrs:{title:"图片"},on:{click:t.openImageDialog}},[n("icon",{attrs:{name:"image"}})],1),n("a",{class:{"is-active":a.blockquote()},attrs:{title:"引用"},on:{click:r.blockquote}},[n("icon",{attrs:{name:"quote-right"}})],1),n("a",{class:{"is-active":a.todo_list()},attrs:{title:"任务列表"},on:{click:r.todo_list}},[n("icon",{attrs:{name:"check-square"}})],1),n("a",{class:{"is-active":a.table()},attrs:{title:"表格"},on:{click:function(t){return r.createTable({rowsCount:3,colsCount:3,withHeaderRow:!0})}}},[n("icon",{attrs:{name:"table"}})],1),n("a",{attrs:{title:"水平线"},on:{click:r.hr}},[n("icon",{attrs:{name:"minus"}})],1),n("a",{attrs:{title:"撤销"},on:{click:r.undo}},[n("icon",{attrs:{name:"undo"}})],1),n("a",{attrs:{title:"重做"},on:{click:r.redo}},[n("icon",{attrs:{name:"repeat"}})],1),n("a",{attrs:{title:"恢复上次关闭页面时的数据（按住Ctrl键点击，优先恢复一分钟内最后保存的数据）"},on:{click:t.restore}},[n("icon",{attrs:{name:"clock-o"}})],1),n("a",{class:{"is-active":t.searchPanel},attrs:{title:"查找&替换"},on:{click:function(e){t.searchPanel=!t.searchPanel}}},[n("icon",{attrs:{name:"search"}})],1),n("a",{attrs:{title:"帮助"},on:{click:t.help}},[n("icon",{attrs:{name:"question-circle"}})],1),n("a",{class:{"is-active":t.fullscreenMode},attrs:{title:"全屏"},on:{click:t.toggleFullscreen}},[n("icon",{attrs:{name:"arrows-alt"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.searchPanel,expression:"searchPanel"}],staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],ref:"search",staticClass:"form-control",attrs:{placeholder:"查找 …",type:"text"},domProps:{value:t.searchTerm},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.editor.commands.find(t.searchTerm))},input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.replaceWith,expression:"replaceWith"}],staticClass:"form-control",attrs:{placeholder:"替换 …",type:"text"},domProps:{value:t.replaceWith},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.editor.commands.replace(t.replaceWith))},input:function(e){e.target.composing||(t.replaceWith=e.target.value)}}}),n("a",{staticClass:"btn btn-default",on:{click:function(e){return r.find(t.searchTerm)}}},[t._v("查找")]),n("a",{staticClass:"btn btn-default",on:{click:function(t){return r.clearSearch()}}},[t._v("清除")]),n("a",{staticClass:"btn btn-default",on:{click:function(e){return r.replace(t.replaceWith)}}},[t._v("替换")]),n("a",{staticClass:"btn btn-default",on:{click:function(e){return r.replaceAll(t.replaceWith)}}},[t._v("替换全部")])])])]}}])}),n("editor-content",{staticClass:"cp-editor-body entry-content",style:t.editorHeight,attrs:{editor:t.editor}}),n("editor-status-bar",{attrs:{editor:t.editor,sharedState:t.sharedState}}),n("editor-link-dialog",{attrs:{editor:t.editor,sharedState:t.sharedState}}),n("editor-image-dialog",{attrs:{editor:t.editor,sharedState:t.sharedState}}),n("editor-help-dialog",{attrs:{editor:t.editor,sharedState:t.sharedState}}),n("editor-context-menu",{attrs:{editor:t.editor,sharedState:t.sharedState,commands:t.editor.commands,isActive:t.editor.isActive}})],1)},vr=[],hr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:["fa","fa-"+t.name,"icon--"+t.size,{"has-align-fix":t.fixAlign}]})},mr=[],gr={props:{name:{},size:{default:"normal"},modifier:{default:null},fixAlign:{default:!0}}},br=gr,yr=(n("50c6"),Object(He["a"])(br,hr,mr,!1,null,"5504905b",null)),Or=yr.exports,kr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-status-bar"},[n("span",[t._v("元素路径：body > "+t._s(t.elementPath||"p"))]),n("span",{staticClass:"status-bar-right"},[n("span",{staticClass:"upload-status-tip",class:t.uploadTip.className,domProps:{innerHTML:t._s(t.uploadTip.msg)}}),n("span",{staticClass:"char-counter"},[t._v("\n      字符统计：\n      "),n("em",[t._v(t._s(t.counter||0))])])])])},wr=[],jr={name:"editor-status-bar",props:["editor","sharedState"],data:function(){return this.sharedState.statusbar}},xr=jr,_r=Object(He["a"])(xr,kr,wr,!1,null,null,null),Cr=_r.exports,Dr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{directives:[{name:"show",rawName:"v-show",value:t.enabled,expression:"enabled"}],staticClass:"dropdown-menu",staticStyle:{display:"block","z-index":"9999"},style:t.styles,attrs:{role:"menu"}},[n("li",{directives:[{name:"show",rawName:"v-show",value:t.addParagraph,expression:"addParagraph"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.addParagraph()}}},[t._v("上方插入段落")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.addParagraph,expression:"addParagraph"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.addParagraph(!1)}}},[t._v("下方插入段落")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.mergeCells,expression:"mergeCells"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.mergeCells(e)}}},[t._v("合并单元格")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.splitCell,expression:"splitCell"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.splitCell(e)}}},[t._v("拆分合并单元格")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.toggleHeaderRow,expression:"toggleHeaderRow"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.toggleHeaderRow(e)}}},[t._v("切换标题行/普通行")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.addRowUp,expression:"addRowUp"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.addRowBefore(e)}}},[t._v("上方插入一行")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.addRowDown,expression:"addRowDown"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.addRowAfter(e)}}},[t._v("下方插入一行")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.addColLeft,expression:"addColLeft"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.addColumnBefore(e)}}},[t._v("左侧插入一列")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.addColRight,expression:"addColRight"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.addColumnAfter(e)}}},[t._v("右侧插入一列")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.deleteRow,expression:"deleteRow"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.deleteRow(e)}}},[t._v("删除选中行")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.deleteCol,expression:"deleteCol"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.deleteColumn(e)}}},[t._v("删除选中列")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:t.deletaTable,expression:"deletaTable"}],attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return e.preventDefault(),t.commands.deleteTable(e)}}},[t._v("删除表格")])])])},Rr=[],Sr={name:"editor-context-menu",props:["editor","commands","isActive","sharedState"],data:function(){return this.sharedState.contextmenu}},Mr=Sr,Pr=Object(He["a"])(Mr,Dr,Rr,!1,null,null,null),Ar=Pr.exports,Tr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.enabled?n("div",{attrs:{role:"dialog"}},[n("div",{staticClass:"modal-backdrop fade in"}),n("div",{staticClass:"modal modal-center fade in",staticStyle:{display:"block"},attrs:{role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content",attrs:{role:"document"}},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",[n("label",[t._v("锚文本内容：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control",attrs:{disabled:t.disableEditText,type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),n("div",[n("label",[t._v("链接地址：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.href,expression:"href"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.href},on:{input:function(e){e.target.composing||(t.href=e.target.value)}}})]),n("div",[n("label",[t._v("链接标题：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),n("div",[n("label",[t._v("是否在新窗口打开：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.target,expression:"target"}],attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.target)?t._i(t.target,"1")>-1:t.target},on:{change:function(e){var n=t.target,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i="1",o=t._i(n,i);r.checked?o<0&&(t.target=n.concat([i])):o>-1&&(t.target=n.slice(0,o).concat(n.slice(o+1)))}else t.target=a}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.enabled=!1}}},[t._v("关闭")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveLink}},[t._v("保存")])])])])])]):t._e()},Er=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[t._v("超链接")])])}];function $r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$r(Object(n),!0).forEach((function(e){Object(Ge["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Lr={name:"editor-link-dialog",props:["editor","commands","isActive","sharedState"],data:function(){return this.sharedState.link},methods:{saveLink:function(){var t=this.$data,e=this.sharedState,n=this.editor,r=Nr({},t);r.disableEditText&&(r.text=null),delete r.disableEditText,e.setLink(!1),n.commands.link(r)}}},Hr=Lr,Ir=Object(He["a"])(Hr,Tr,Er,!1,null,null,null),zr=Ir.exports,Wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.enabled?n("div",{attrs:{role:"dialog"},on:{click:t.captureClick}},[n("div",{staticClass:"modal-backdrop fade in"}),n("div",{staticClass:"modal modal-center fade in",staticStyle:{display:"block"},attrs:{role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content",attrs:{role:"document"}},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",[n("label",[t._v("图片地址：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.srcInput,expression:"srcInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"您也可以拖拽或粘贴图片到编辑器中直接上传"},domProps:{value:t.srcInput},on:{change:t.onInputSrc,input:function(e){e.target.composing||(t.srcInput=e.target.value)}}})]),n("div",[n("label",[t._v("图片描述：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.alt,expression:"alt"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入图片描述信息"},domProps:{value:t.alt},on:{input:function(e){e.target.composing||(t.alt=e.target.value)}}})]),t._m(1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-4"},[n("div",{staticClass:"form-group"},[n("span",{staticClass:"input-group"},[n("span",{staticClass:"input-group-addon"},[t._v("宽度：")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.width,expression:"width",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.width},on:{input:[function(e){e.target.composing||(t.width=t._n(e.target.value))},t.onSizeChange],blur:function(e){return t.$forceUpdate()}}}),n("span",{staticClass:"input-group-addon"},[t._v("px")])])]),n("div",{staticClass:"form-group"},[n("span",{staticClass:"input-group"},[n("span",{staticClass:"input-group-addon"},[t._v("高度：")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.height,expression:"height",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.height},on:{input:[function(e){e.target.composing||(t.height=t._n(e.target.value))},t.onSizeChange],blur:function(e){return t.$forceUpdate()}}}),n("span",{staticClass:"input-group-addon"},[t._v("px")])])]),n("div",[n("div",{ref:"options",staticClass:"dropdown btn-group"},[n("button",{staticClass:"btn btn-default",attrs:{value:"image",type:"button",disabled:t.locked}},[t._v(t._s("figure"==t.type?"独占式（大图）":"嵌入式（小图）"))]),n("button",{staticClass:"dropdown-toggle btn btn-default",attrs:{id:"image-dialog-splitter",role:"button",type:"button",disabled:t.locked},on:{click:function(e){t.dropdown=!0}}},[n("span",{staticClass:"caret"})]),n("ul",{staticClass:"dropdown-menu",class:{show:t.dropdown},attrs:{role:"menu","aria-labelledby":"image-dialog-splitter"}},[n("li",{attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return t.selectDropdown(e,"figure")}}},[t._v("独占式（大图）")])]),n("li",{attrs:{role:"presentation"}},[n("a",{attrs:{role:"menuitem",tabindex:"-1",href:"#"},on:{click:function(e){return t.selectDropdown(e,"image")}}},[t._v("嵌入式（小图）")])])])]),n("input",{ref:"file",staticStyle:{opacity:"0"},attrs:{type:"file",accept:"image/*"},on:{change:t.handleSelectedFiles}})])]),n("div",{staticClass:"col-xs-8 text-center image-preview",on:{click:t.selectFileDialog}},[n("div",[t.src?n("img",{staticClass:"img-picker",attrs:{src:t.src,alt:"点击上传图片"},on:{load:t.listenLoad,error:t.listenLoad}}):n("img",{staticClass:"img-picker",attrs:{src:"https://cdn.codeplayer.vip/internal/image/file-picker.png",alt:"点击上传图片"}})]),n("div",{staticClass:"image-preview-tips"},[t._v("点击上方图片可上传本地图片")])])])]),n("div",{staticClass:"modal-footer"},[n("span",{ref:"imageTips",staticClass:"image-load-tips"},[t._v("图片加载失败，请检查[图片地址]！")]),n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.resetSize}},[t._v("重置尺寸为原始大小")]),n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.enabled=!1}}},[t._v("关闭")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveImage}},[t._v("保存")])])])])])]):t._e()},Br=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[t._v("图片")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("图片尺寸：")])])}],Ur="image",qr="figure";function Fr(t,e){if(t&&e){if(t<64&&e<32)return Ur;if(t>=500||e>=100)return qr}}function Vr(t,e,n){var r=4;if(t.size>1024*r*1024){var a="图片文件大小不得超过"+r+"MB！";return e instanceof Function?e(a):n.setUploadTips("error",a,15e3),!1}return!0}function Gr(t,e,n){if(null==e&&(e={}),t.naturalWidth)e&&(e.width=t.naturalWidth,e.height=t.naturalHeight),n&&n(e);else if(t.width&&t.height)e&&t!==e&&(e.width=t.width,e.height=t.height),n&&n(e);else{var r=new Image;r.onload=function(){e.width=r.width,e.height=r.height,n&&n(e)},r.src=t.src}}var Jr={name:"editor-image-dialog",props:["editor","commands","isActive","sharedState"],data:function(){return this.sharedState.image},mounted:function(){this.realSize={},null==this.srcInput&&(this.srcInput=this.src)},methods:{selectFileDialog:function(){this.$refs.file.click()},handleSelectedFiles:function(){var t=this,e=t.$refs.file,n=e.files[0];if(n){var r=n.type.split("/"),a=Object(je["a"])(r,1),i=a[0];if("image"!==i)return alert("上传的文件必须是图片类型！");if(!Vr(n,alert,t.sharedState))return;t.fileValue=e.value;var o=t.$data;Ct(n,(function(e){o.src=e,o.srcInput=t.fileValue,o.file=n,o.alt=n.name}))}},listenLoad:function(t){var e=this,n="load"===t.type;if(n){var r=null!=e.lastLoaded;e.lastLoaded=e.fileValue||e.srcInput,Gr(t.target,e.realSize,(function(t){return e.onSizeChange(t,r)}))}e.$refs.imageTips.style.display=n?"none":"inline"},resetSize:function(){var t=this,e=t.$data,n=t.lastLoaded,r=t.realSize;n&&n===e.srcInput&&r.width?(e.width=r.width,e.height=r.height):alert("由于图片地址输入无效或图片尚未加载完成，请稍后再试！")},onInputSrc:function(){var t=this,e=t.$data,n=e.srcInput;t.fileValue!==n&&(t.$refs.file.value=t.fileValue="",jt(n)&&(n="http://"+n,e.srcInput=n),e.src=n,e.file=null)},onSizeChange:function(t,e){var n=this.$data;t&&(!e&&n.width||(n.width=t.width),!e&&n.height||(n.height=t.height));var r=Fr(n.width,n.height),a=r||n.type;r===this.locked&&a===n.type||(this.locked=r,n.type=a)},selectDropdown:function(t,e){var n=this.$data;n.type=e,n.dropdown=!1},captureClick:function(t){this.dropdown&&!$.contains(this.$refs.options,t.target)&&(this.dropdown=!1)},saveImage:function(){var t=this,e=t.$data,n=e.srcInput,r=e.width,a=e.height,i=t.realSize;return n!==this.lastLoaded?alert("无效的图片地址！"):isNaN(r)||r<=0||isNaN(a)||a<=0?alert("无效的图片尺寸！"):r>i.width||a>i.height?alert("图片尺寸设置不得大于实际尺寸[ "+i.width+" * "+i.height+" ]！ "):(e.type=Fr(r,a)||e.type||qr,t.sharedState.setImage(!1),void this.editor.commands[e.type](e))}}},Kr=Jr,Xr=Object(He["a"])(Kr,Wr,Br,!1,null,null,null),Zr=Xr.exports,Qr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"help-dialog",attrs:{role:"dialog"}},[n("div",{staticClass:"modal-backdrop fade in"}),n("div",{staticClass:"modal modal-center fade in",staticStyle:{display:"block"},attrs:{role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content",attrs:{role:"document"}},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.show=!1}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),n("span",{staticClass:"sr-only"},[t._v("Close")])]),n("h4",{staticClass:"modal-title"},[t._v("编辑器使用帮助")])]),t._m(0)])])])]):t._e()},Yr=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-body"},[n("h3",[t._v("常规")]),n("ul",[n("li",[t._v("\n              一般情况下，单击\n              "),n("kbd",[t._v("Enter")]),t._v(" 键将另起新建一个块级标签（一般为段落(\n              "),n("code",[t._v("p")]),t._v(")，视上下文而定）。\n            ")]),n("li",[t._v("\n              单击\n              "),n("kbd",[t._v("Shift + Enter")]),t._v("， 可实现标签（如：段落）内换行（相当于\n              "),n("code",[t._v("<br>")]),t._v("）。\n            ")]),n("li",[t._v("\n              双击\n              "),n("kbd",[t._v("Enter")]),t._v(" 键可跳出嵌套的标签，并另起新建一个块级标签。\n            ")])]),n("h3",[t._v("图片")]),n("ul",[n("li",[t._v("\n              将本地图片文件\n              "),n("em",[t._v("拖拽")]),t._v("或\n              "),n("em",[t._v("粘贴")]),t._v("到编辑器中，可直接进行本地图片上传并预览显示。\n            ")]),n("li",[t._v("\n              将图片地址（\n              "),n("em",[t._v("绝对路径")]),t._v("）粘贴到编辑器中，可直接进行远程图片上传并预览显示。\n            ")]),n("li",[t._v("\n              仅支持\n              "),n("em",[t._v("png")]),t._v("、\n              "),n("em",[t._v("jpg/jpeg")]),t._v("、\n              "),n("em",[t._v("bmp")]),t._v("、\n              "),n("em",[t._v("gif")]),t._v("等图片格式，单个文件大小不得超过\n              "),n("em",[t._v("4MB")]),t._v("。\n            ")])]),n("h3",[t._v("链接")]),n("ul",[n("li",[t._v("\n              复制一个\n              "),n("em",[t._v("绝对路径")]),t._v("的网址，选中编辑器中的一段内容，然后粘贴，可快速给选中内容附加（或更换）链接。\n            ")])]),n("h3",[t._v("表格")]),n("ul",[n("li",[t._v("当光标或选中区域位于表格中时，点击鼠标右键可显示相应的快捷操作菜单（新增、删除、合并、拆分等）。")])]),n("h3",[t._v("Markdown")]),n("ul",[n("li",[t._v('目前富文本编辑器为所见即所得模式，同时也支持Markdown语法输入（例如：输入"# 文本"会自动转换为标题标签），后续将完善对Markdown的支持（支持模式切换、实时预览）。')]),n("li",[t._v("本站所有非富文本编辑器的内容输入框均支持Markdown语法，后续将完善快捷工具栏、实时预览等支持。")])]),n("h3",[t._v("复制&拖拽&粘贴")]),n("ul",[n("li",[t._v("\n              由于从Word文档、其他网页粘贴的内容含有大量冗余的\n              "),n("code",[t._v("style")]),t._v("，因此目前仅支持纯文本粘贴，后续将逐渐增强对常用第三方文本工具和HTML内容的处理支持。\n            ")])]),n("h3",[t._v("即将到来")]),n("ul",[n("li",[t._v("@用户、模板、快捷命令行、体验优化……")])]),n("h3",[t._v("意见反馈")]),n("ul",[n("li",[t._v("如果您有任何意见或建议，欢迎点击右下角的【意见反馈】告知我们，我们将尽可能的倾听并及时跟进。")])])])}],ta={name:"editor-help-dialog",props:["editor","sharedState"],data:function(){return this.sharedState.help}},ea=ta,na=Object(He["a"])(ea,Qr,Yr,!1,null,null,null),ra=na.exports;function aa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(n),!0).forEach((function(e){Object(Ge["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oa(t,e){e._synchronized=t;var n=e.constructor.prototype,r=Object.getOwnPropertyDescriptor(n,"value"),a=r.set,i=r.get;e.___set=a,e.___get=i,Object.defineProperty(n,"value",{get:function(){if(this._synchronized){var t=this._synchronized.getHtml();return"<p></p>"===t?"":t}return i.apply(this,arguments)},set:function(t){a.apply(this,arguments),this._synchronized&&this._synchronized.setHtml(t)}})}function ca(t){t&&t._synchronized&&(Object.defineProperty(fn,"value",{get:function(){return t.___get.apply(this,arguments)},set:function(){t.___set.apply(this,arguments)}}),delete t._synchronized)}var sa={props:["context"],components:{EditorContent:c["b"],Icon:Or,EditorMenuBar:c["c"],EditorStatusBar:Cr,EditorContextMenu:Ar,EditorLinkDialog:zr,EditorImageDialog:Zr,EditorHelpDialog:ra},data:function(){var t=this.context,e=t.editor,n=t.cfg,r=t.input,a=t.sharedState,i=t.newClassName,o=t.newStyle,c=t.languages;return{editor:e,cfg:n,input:r,sharedState:a,newClassName:i,newStyle:o,languages:c,editorHeight:null,fullscreenMode:!1,searchPanel:!1,searchTerm:null,replaceWith:null}},methods:{help:function(){this.sharedState.showHelp()},isMarkActive:function(t,e){return Tt(this.editor.state,t,null,e)},toggleFullscreen:function(){var t=this.$el.querySelector(".cp-editor-body"),e=!this.fullscreenMode;this.fullscreenMode=e;var n=e?window.innerHeight-t.previousElementSibling.offsetHeight-t.nextElementSibling.offsetHeight-16+"px":"auto";this.editorHeight={height:n}},openLinkDialog:function(){var t,e=this.editor.state,n="",r=Tt(e,"link",(function(e,r){void 0===e.text?n=void 0:null!=n&&(n+=e.text),t=r.attrs}));r||e.selection.empty||null==n||(n=e.doc.textBetween(e.selection.from,e.selection.to)),this.sharedState.setLink(!0,t||{},n)},openImageDialog:function(){var t,e=this.editor.state,n=Et(e,$t);if(n){var r=Rt(n);t=ia(ia({},r.attrs),{},{type:r.type.name})}else t={};this.sharedState.setImage(!0,t)},restore:function(t){var e=this.localStorage,n=t.ctrlKey?e("latest")||e("last"):e("last")||e("latest");n&&this.setHtml(n)},getHtml:function(t,e){var n=this.editor.getHTML();return!1!==e&&(n=Wt(n)),t?Nt(n):n},setHtml:function(t){this.editor.setContent(t,!0)},localStorage:function(t,e){var n=window.localStorage;if(n){var r=this.input,a=r&&(r.getAttribute("key")||r.name);if(a){var i=a+"$"+t;if(void 0===e)return n.getItem(i);if(!1===e)return n.removeItem(i);!0===e&&(e=this.getHtml(!1,!1)),e&&"<p></p>"!==e&&(It("localStorage[",i,"] = ",e),n.setItem(i,e))}}}},mounted:function(){var t=this,e=window.editor=t.editor;e.$el=t.$el,oa(t,t.input)},beforeDestroy:function(){ca(this.input),this.editor.destroy()}},la=sa,ua=Object(He["a"])(la,pr,vr,!1,null,null,null),fa=ua.exports,da=(n("c4fa"),{});!function(t){for(var e in t){var n=t[e],r=n.val;r||(r=n.val=n.name.toLowerCase()),da[r]=n}}([{name:"Apache",val:"apacheconf",fn:l.a},{name:"C",fn:p.a},{name:"C++",val:"cpp",fn:p.a},{name:"C#",val:"csharp",fn:h.a},{name:"CSS",fn:g.a},{name:"Diff",fn:y.a},{name:"Go",fn:k.a},{name:"Groovy",fn:j.a},{name:"HTML & XML",val:"html",fn:_.a},{name:"ini",fn:D.a},{name:"Java",fn:S.a},{name:"JavaScript",fn:P.a},{name:"JSON",fn:T.a},{name:"Kotlin",fn:N.a},{name:"Markdown",fn:H.a},{name:"Nginx",fn:z.a},{name:"Objective-C",val:"objectivec",fn:B.a},{name:"Perl",fn:q.a},{name:"PHP",fn:V.a},{name:"Properties",fn:J.a},{name:"Python",fn:X.a},{name:"Ruby",fn:Q.a},{name:"Scala",fn:tt.a},{name:"Shell",fn:f.a},{name:"SQL",fn:nt.a},{name:"Swift",fn:at.a},{name:"VB",fn:ot.a},{name:"Vim",fn:st.a}]);var pa=o.a.extend(fa),va=function t(e,n,r,i,o){Object(a["a"])(this,t);var s=this,l=s.state=ft(),u={sharedState:l};function f(t){var e=t.doc.textContent.length;l.setCounter(e),n&&(n.charLength=e)}var d=function t(){t.startTask||(t.startTask=1,setTimeout((function(){s.vm.localStorage("latest",!0),t.startTask=0}),6e4))},p={input:n,sharedState:l,cfg:r,newClassName:i,newStyle:o,languages:da},v=new c["a"]({useBuiltInExtensions:!1,context:p,extensions:[new Vt,new Gt,new Jt,new Kt,new Me({levels:[3,4,5,6]}),new Yt,new te,new ne,new ee,new oe,new ie,new Ce("p.tip"),new Ce("div",["class"],{content:"block+"}),new ce,new Jn({languages:da}),new Yn,new Qn,new Zn,new ar,new rr,new nr,new ae(u),new an(u),new mn(u),new Te,new Ue,new qe,new lr(u),new ur,new fr,new dr,new ue,new fe,new he,new ye({disableRegex:!1}),new we({emptyNodeClass:"is-empty",emptyNodeText:"请开始你的表演~",showOnlyWhenEditable:!0})],onInit:function(t){var e=t.state;f(e)},onUpdate:function(t){var e=t.state,n=t.transaction;n&&!n.docChanged||(window.closeConfirm=!0,f(e),d(e))},content:n.value});p.editor=v,v.context=p,this.editor=v,window.vm=this.vm=new pa({propsData:{context:p}}).$mount(e)},ha=va,ma=window.Editor=[];function ga(t,e){e||(e={});var n=document.createElement("div"),r=e.className,a=e.style;r instanceof Function&&(r=r(t,e)),a instanceof Function&&(a=a(t,e)),t.style.display="none",t.parentElement.insertBefore(n,t.nextSibling||t);var i=new ha(n,t,e,r,a);t.$app=i,ma.push(t),1===ma.length&&($?$(window).on("beforeunload",ma.closeConfirmHandler):window.addEventListener?window.addEventListener("beforeunload",ma.closeConfirmHandler):window.onbeforeunload=ma.closeConfirmHandler)}function ba(t,e){for(var n=document.querySelectorAll(t),r=!!document.addEventListener,a=0;a<n.length;a++){var i=n[a],o=i.getAttribute("init");if(!o||i.value)ga(i,e);else{var c=function(t){return function(){t.__load||(t.__load=!0,ga(t,e))}}(i);r?i.addEventListener(o,c):i.attachEvent("on"+o,c)}}}ma.closeConfirmHandler=function(){if(!1!==window.closeConfirm){for(var t=!1,e=ma.closeCallback,n=0;n<ma.length;n++){var r=ma[n],a=r.value;if(a&&"<p></p>"!==a){t=!0;var i=r&&r.$app&&r.$app.vm,o=ma.__closeCallback;o&&o(a,r,i),e&&e(a,r,i)}}if(t)return"您当前编辑的内容尚未提交，您确认要离开吗？"}},ma.__closeCallback=function(t,e,n){n&&n.localStorage("last",t)},ma.init=ba,ma.load=ga,ma.get=function(t){var e=Object(r["a"])(t);return"number"===e?t=ma[t]:"string"===e&&(t=document.querySelector(t)),t&&t.$app&&t.$app.editor||null}},"8bbf":function(t,e){t.exports=Vue},c4fa:function(t,e,n){}});